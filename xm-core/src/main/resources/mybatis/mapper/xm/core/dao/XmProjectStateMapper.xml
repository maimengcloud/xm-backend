<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xm.core.entity.XmProjectState">
	
	
	<!--开始 自定sql函数区域 请在此区域添加自定义函数,其它区域尽量不要动，因为代码随时重新生成 -->

    <sql id="whereForMap">
         <if test=" projectIds != null">  and (res.project_id) in
             <foreach collection="projectIds" item="item" index="index" open="(" separator="," close=")" >
                 ( #{item})
             </foreach>
         </if>
        <if test="key != null and key !='' ">  and  (res.project_id = #{key} or res.project_name like concat('%',#{key},'%') )   </if>
    </sql>
	<update id="loadTasksToXmProjectState" parameterType="String" statementType="CALLABLE">
		{call load_tasks_to_xm_project_state(#{projectId,mode=IN})}
	</update>
	<update id="loadTasksSettleToXmProjectState" parameterType="String" statementType="CALLABLE">
		{call load_tasks_settle_to_xm_project_state(#{projectId,mode=IN})}
	</update>


	<!--结束 自定义sql函数区域-->
	

	
	<!-- 通过条件查询获取数据列表 返回list<map> -->
	<select id="selectListMapByWhere" parameterType="HashMap" resultType="HashMap">
		select * from xm_project_state res
		<where>
		    <include refid="whereForMap"/>
			<include refid="where"/>
		</where>
	</select>
	
	<!-- 通过条件查询获取数据列表 不分页 返回 list<Object> -->
	<select id="selectListByWhere" parameterType="com.xm.core.entity.XmProjectState" resultType="com.xm.core.entity.XmProjectState">
		select * from xm_project_state res
		<where>
			<include refid="where"/>
		</where>
	</select>
	
		<!-- 通过主键查询获取数据对象 返回object -->
	<select id="selectOneObject" parameterType="com.xm.core.entity.XmProjectState" resultType="com.xm.core.entity.XmProjectState">
		select * from xm_project_state res
		where 
			res.project_id = #{projectId}
	</select>
    <select id="selectListByIds" parameterType="List" resultType="com.xm.core.entity.XmProjectState">
        select * from xm_project_state res
        where  (res.project_id) in
             <foreach collection="list" item="item" index="index" open="(" separator="," close=")" >
                 ( #{item})
             </foreach>
    </select>
	<!-- 通过主键查询获取数据对象 返回map-->
	<select id="selectOneMap" parameterType="HashMap" resultType="HashMap">
		select * from xm_project_state res
		where 
			 res.project_id = #{projectId}
	</select>
	<!-- 获取数据条目 返回long -->
	<select id="countByWhere" parameterType="com.xm.core.entity.XmProjectState" resultType="long">
		select count(1) from xm_project_state res
		<where>
			<include refid="where"/>
		</where>
	</select>
	<!-- 新增一条记录  主键project_id,-->
	<insert id="insert" parameterType="com.xm.core.entity.XmProjectState" useGeneratedKeys="false"   keyProperty="project_id">
		insert into xm_project_state(
			<include refid="columns"/>
		) values (
		#{projectId},#{bizDate},#{totalFileCnt},#{totalBugCnt},#{totalTaskCnt},#{totalBudgetNouserAmount},#{projectName},#{totalStaffCnt},#{calcTime},#{calcStatus},#{totalCostNouserAmount},#{totalClosedBugCnt},#{totalResolvedBugCnt},#{totalCompleteTaskCnt},#{totalPhaseCnt},#{totalCompletePhaseCnt},#{totalNeedPayAmount},#{totalFinishPayAmount},#{totalNeedColAmount},#{totalFinishColAmount},#{totalCostUserAmount},#{totalBudgetIuserAmount},#{totalPlanWorkload},#{totalRiskCnt},#{totalCompleteRiskCnt},#{branchId},#{branchName},#{totalBudgetOuserAmount},#{totalCompleteWorkload},#{totalCostIuserAmount},#{totalCostOuserAmount},#{totalProgress},#{totalActiveBugCnt},#{totalConfirmedBugCnt},#{projectStatus},#{totalActWorkload},#{totalActOutWorkload},#{totalActInnerWorkload},#{totalTaskBudgetCostAt},#{totalTaskOutCnt},#{totalNeedPayCnt},#{totalFinishPayCnt},#{totalFinishPayUserCnt},#{totalNeedPayUserCnt},#{totalPlanIuserWorkload},#{totalPlanOuserWorkload},#{testCases},#{execCases},#{designCases},#{finishCases},#{iterationCnt},#{productCnt},#{menuCnt},#{finishMenuCnt},#{estimateWorkload},#{execTaskCnt},#{toStartTaskCnt},#{execMenuCnt},#{toStartMenuCnt},#{minStartTime},#{maxEndTime}
		)
	</insert>
	
	<!-- 按条件删除若干条记录-->
	<delete id="deleteByWhere" parameterType="com.xm.core.entity.XmProjectState">
		delete from xm_project_state res
		<where>  
			<include refid="where"/>
		</where>
	</delete>
	
	<!-- 按主键删除一条记录-->
	<delete id="deleteByPk" parameterType="com.xm.core.entity.XmProjectState">
		delete from xm_project_state 
		where project_id = #{projectId} 
	</delete>
	
	<!-- 根据条件修改若干条记录 -->
	<update id="updateSomeFieldByPk" parameterType="com.xm.core.entity.XmProjectState">
		update  xm_project_state 
		<set>
			<include refid="someFieldSet"/>
		</set>
		where project_id = #{projectId} 
	</update>
	
		<!-- 根据主键修改一条记录 -->
	<update id="updateByPk" parameterType="com.xm.core.entity.XmProjectState">
		update  xm_project_state 
		<set>
			<include refid="set"/>
		</set>
		where project_id = #{projectId} 
	</update>

	<!-- 批量新增  批量插入 借用insert 循环插入实现
	<insert id="batchInsert" parameterType="List">
 	</insert>
 	-->
 	
	<!-- 批量更新 -->
	<update id="batchUpdate" parameterType="List">   
		<foreach collection="list" item="item" index="index" separator=";" >
   		update  xm_project_state 
		set 
			<include refid="batchSet"/>
			where project_id = #{item.projectId}  
		</foreach> 
	</update>
	<!-- 批量删除 -->
	<delete id="batchDelete" parameterType="List">  
		delete from xm_project_state 
			where
			(project_id) in
                <foreach collection="list" item="item" index="index" open="(" separator="," close=")" >
                    (  #{item.projectId} )
                </foreach>
	</delete>
	
	
	<!--sql片段 列-->
	<sql id="columns">
		project_id,biz_date,total_file_cnt,total_bug_cnt,total_task_cnt,total_budget_nouser_amount,project_name,total_staff_cnt,calc_time,calc_status,total_cost_nouser_amount,total_closed_bug_cnt,total_resolved_bug_cnt,total_complete_task_cnt,total_phase_cnt,total_complete_phase_cnt,total_need_pay_amount,total_finish_pay_amount,total_need_col_amount,total_finish_col_amount,total_cost_user_amount,total_budget_iuser_amount,total_plan_workload,total_risk_cnt,total_complete_risk_cnt,branch_id,branch_name,total_budget_ouser_amount,total_complete_workload,total_cost_iuser_amount,total_cost_ouser_amount,total_progress,total_active_bug_cnt,total_confirmed_bug_cnt,project_status,total_act_workload,total_act_out_workload,total_act_inner_workload,total_task_budget_cost_at,total_task_out_cnt,total_need_pay_cnt,total_finish_pay_cnt,total_finish_pay_user_cnt,total_need_pay_user_cnt,total_plan_iuser_workload,total_plan_ouser_workload,test_cases,exec_cases,design_cases,finish_cases,iteration_cnt,product_cnt,menu_cnt,finish_menu_cnt,estimate_workload,exec_task_cnt,to_start_task_cnt,exec_menu_cnt,to_start_menu_cnt,min_start_time,max_end_time
	</sql>

	<!--sql片段 动态条件 YYYY-MM-DD HH24:MI:SS-->
	<sql id="where">
		<if test="projectId != null and projectId != ''">      and res.project_id = #{projectId}     </if>
		<if test="bizDate != null and bizDate != ''">      and res.biz_date = #{bizDate}     </if>
		<if test="totalFileCnt != null and totalFileCnt != ''">      and res.total_file_cnt = #{totalFileCnt}     </if>
		<if test="totalBugCnt != null and totalBugCnt != ''">      and res.total_bug_cnt = #{totalBugCnt}     </if>
		<if test="totalTaskCnt != null and totalTaskCnt != ''">      and res.total_task_cnt = #{totalTaskCnt}     </if>
		<if test="totalBudgetNouserAmount != null and totalBudgetNouserAmount != ''">      and res.total_budget_nouser_amount = #{totalBudgetNouserAmount}     </if>
		<if test="projectName != null and projectName != ''">      and res.project_name = #{projectName}     </if>
		<if test="totalStaffCnt != null and totalStaffCnt != ''">      and res.total_staff_cnt = #{totalStaffCnt}     </if>
		<if test="calcTime != null">      and date_format(res.calc_time,'%Y-%m-%d') = date_format(#{calcTime},'%Y-%m-%d')     </if>
		<if test="calcStatus != null and calcStatus != ''">      and res.calc_status = #{calcStatus}     </if>
		<if test="totalCostNouserAmount != null and totalCostNouserAmount != ''">      and res.total_cost_nouser_amount = #{totalCostNouserAmount}     </if>
		<if test="totalClosedBugCnt != null and totalClosedBugCnt != ''">      and res.total_closed_bug_cnt = #{totalClosedBugCnt}     </if>
		<if test="totalResolvedBugCnt != null and totalResolvedBugCnt != ''">      and res.total_resolved_bug_cnt = #{totalResolvedBugCnt}     </if>
		<if test="totalCompleteTaskCnt != null and totalCompleteTaskCnt != ''">      and res.total_complete_task_cnt = #{totalCompleteTaskCnt}     </if>
		<if test="totalPhaseCnt != null and totalPhaseCnt != ''">      and res.total_phase_cnt = #{totalPhaseCnt}     </if>
		<if test="totalCompletePhaseCnt != null and totalCompletePhaseCnt != ''">      and res.total_complete_phase_cnt = #{totalCompletePhaseCnt}     </if>
		<if test="totalNeedPayAmount != null and totalNeedPayAmount != ''">      and res.total_need_pay_amount = #{totalNeedPayAmount}     </if>
		<if test="totalFinishPayAmount != null and totalFinishPayAmount != ''">      and res.total_finish_pay_amount = #{totalFinishPayAmount}     </if>
		<if test="totalNeedColAmount != null and totalNeedColAmount != ''">      and res.total_need_col_amount = #{totalNeedColAmount}     </if>
		<if test="totalFinishColAmount != null and totalFinishColAmount != ''">      and res.total_finish_col_amount = #{totalFinishColAmount}     </if>
		<if test="totalCostUserAmount != null and totalCostUserAmount != ''">      and res.total_cost_user_amount = #{totalCostUserAmount}     </if>
		<if test="totalBudgetIuserAmount != null and totalBudgetIuserAmount != ''">      and res.total_budget_iuser_amount = #{totalBudgetIuserAmount}     </if>
		<if test="totalPlanWorkload != null and totalPlanWorkload != ''">      and res.total_plan_workload = #{totalPlanWorkload}     </if>
		<if test="totalRiskCnt != null and totalRiskCnt != ''">      and res.total_risk_cnt = #{totalRiskCnt}     </if>
		<if test="totalCompleteRiskCnt != null and totalCompleteRiskCnt != ''">      and res.total_complete_risk_cnt = #{totalCompleteRiskCnt}     </if>
		<if test="branchId != null and branchId != ''">      and res.branch_id = #{branchId}     </if>
		<if test="branchName != null and branchName != ''">      and res.branch_name = #{branchName}     </if>
		<if test="totalBudgetOuserAmount != null and totalBudgetOuserAmount != ''">      and res.total_budget_ouser_amount = #{totalBudgetOuserAmount}     </if>
		<if test="totalCompleteWorkload != null and totalCompleteWorkload != ''">      and res.total_complete_workload = #{totalCompleteWorkload}     </if>
		<if test="totalCostIuserAmount != null and totalCostIuserAmount != ''">      and res.total_cost_iuser_amount = #{totalCostIuserAmount}     </if>
		<if test="totalCostOuserAmount != null and totalCostOuserAmount != ''">      and res.total_cost_ouser_amount = #{totalCostOuserAmount}     </if>
		<if test="totalProgress != null and totalProgress != ''">      and res.total_progress = #{totalProgress}     </if>
		<if test="totalActiveBugCnt != null and totalActiveBugCnt != ''">      and res.total_active_bug_cnt = #{totalActiveBugCnt}     </if>
		<if test="totalConfirmedBugCnt != null and totalConfirmedBugCnt != ''">      and res.total_confirmed_bug_cnt = #{totalConfirmedBugCnt}     </if>
		<if test="projectStatus != null and projectStatus != ''">      and res.project_status = #{projectStatus}     </if>
		<if test="totalActWorkload != null and totalActWorkload != ''">      and res.total_act_workload = #{totalActWorkload}     </if>
		<if test="totalActOutWorkload != null and totalActOutWorkload != ''">      and res.total_act_out_workload = #{totalActOutWorkload}     </if>
		<if test="totalActInnerWorkload != null and totalActInnerWorkload != ''">      and res.total_act_inner_workload = #{totalActInnerWorkload}     </if>
		<if test="totalTaskBudgetCostAt != null and totalTaskBudgetCostAt != ''">      and res.total_task_budget_cost_at = #{totalTaskBudgetCostAt}     </if>
		<if test="totalTaskOutCnt != null and totalTaskOutCnt != ''">      and res.total_task_out_cnt = #{totalTaskOutCnt}     </if>
		<if test="totalNeedPayCnt != null and totalNeedPayCnt != ''">      and res.total_need_pay_cnt = #{totalNeedPayCnt}     </if>
		<if test="totalFinishPayCnt != null and totalFinishPayCnt != ''">      and res.total_finish_pay_cnt = #{totalFinishPayCnt}     </if>
		<if test="totalFinishPayUserCnt != null and totalFinishPayUserCnt != ''">      and res.total_finish_pay_user_cnt = #{totalFinishPayUserCnt}     </if>
		<if test="totalNeedPayUserCnt != null and totalNeedPayUserCnt != ''">      and res.total_need_pay_user_cnt = #{totalNeedPayUserCnt}     </if>
		<if test="totalPlanIuserWorkload != null and totalPlanIuserWorkload != ''">      and res.total_plan_iuser_workload = #{totalPlanIuserWorkload}     </if>
		<if test="totalPlanOuserWorkload != null and totalPlanOuserWorkload != ''">      and res.total_plan_ouser_workload = #{totalPlanOuserWorkload}     </if>
		<if test="testCases != null and testCases != ''">      and res.test_cases = #{testCases}     </if>
		<if test="execCases != null and execCases != ''">      and res.exec_cases = #{execCases}     </if>
		<if test="designCases != null and designCases != ''">      and res.design_cases = #{designCases}     </if>
		<if test="finishCases != null and finishCases != ''">      and res.finish_cases = #{finishCases}     </if>
		<if test="iterationCnt != null and iterationCnt != ''">      and res.iteration_cnt = #{iterationCnt}     </if>
		<if test="productCnt != null and productCnt != ''">      and res.product_cnt = #{productCnt}     </if>
		<if test="menuCnt != null and menuCnt != ''">      and res.menu_cnt = #{menuCnt}     </if>
		<if test="finishMenuCnt != null and finishMenuCnt != ''">      and res.finish_menu_cnt = #{finishMenuCnt}     </if>
		<if test="estimateWorkload != null and estimateWorkload != ''">      and res.estimate_workload = #{estimateWorkload}     </if>
		<if test="execTaskCnt != null and execTaskCnt != ''">      and res.exec_task_cnt = #{execTaskCnt}     </if>
		<if test="toStartTaskCnt != null and toStartTaskCnt != ''">      and res.to_start_task_cnt = #{toStartTaskCnt}     </if>
		<if test="execMenuCnt != null and execMenuCnt != ''">      and res.exec_menu_cnt = #{execMenuCnt}     </if>
		<if test="toStartMenuCnt != null and toStartMenuCnt != ''">      and res.to_start_menu_cnt = #{toStartMenuCnt}     </if>
		<if test="minStartTime != null">      and date_format(res.min_start_time,'%Y-%m-%d') = date_format(#{minStartTime},'%Y-%m-%d')     </if>
		<if test="maxEndTime != null">      and date_format(res.max_end_time,'%Y-%m-%d') = date_format(#{maxEndTime},'%Y-%m-%d')     </if>
	</sql>
	<!--sql片段 更新字段 -->
	<sql id="set">
		biz_date = #{bizDate},
		total_file_cnt = #{totalFileCnt},
		total_bug_cnt = #{totalBugCnt},
		total_task_cnt = #{totalTaskCnt},
		total_budget_nouser_amount = #{totalBudgetNouserAmount},
		project_name = #{projectName},
		total_staff_cnt = #{totalStaffCnt},
		calc_time = #{calcTime},
		calc_status = #{calcStatus},
		total_cost_nouser_amount = #{totalCostNouserAmount},
		total_closed_bug_cnt = #{totalClosedBugCnt},
		total_resolved_bug_cnt = #{totalResolvedBugCnt},
		total_complete_task_cnt = #{totalCompleteTaskCnt},
		total_phase_cnt = #{totalPhaseCnt},
		total_complete_phase_cnt = #{totalCompletePhaseCnt},
		total_need_pay_amount = #{totalNeedPayAmount},
		total_finish_pay_amount = #{totalFinishPayAmount},
		total_need_col_amount = #{totalNeedColAmount},
		total_finish_col_amount = #{totalFinishColAmount},
		total_cost_user_amount = #{totalCostUserAmount},
		total_budget_iuser_amount = #{totalBudgetIuserAmount},
		total_plan_workload = #{totalPlanWorkload},
		total_risk_cnt = #{totalRiskCnt},
		total_complete_risk_cnt = #{totalCompleteRiskCnt},
		branch_id = #{branchId},
		branch_name = #{branchName},
		total_budget_ouser_amount = #{totalBudgetOuserAmount},
		total_complete_workload = #{totalCompleteWorkload},
		total_cost_iuser_amount = #{totalCostIuserAmount},
		total_cost_ouser_amount = #{totalCostOuserAmount},
		total_progress = #{totalProgress},
		total_active_bug_cnt = #{totalActiveBugCnt},
		total_confirmed_bug_cnt = #{totalConfirmedBugCnt},
		project_status = #{projectStatus},
		total_act_workload = #{totalActWorkload},
		total_act_out_workload = #{totalActOutWorkload},
		total_act_inner_workload = #{totalActInnerWorkload},
		total_task_budget_cost_at = #{totalTaskBudgetCostAt},
		total_task_out_cnt = #{totalTaskOutCnt},
		total_need_pay_cnt = #{totalNeedPayCnt},
		total_finish_pay_cnt = #{totalFinishPayCnt},
		total_finish_pay_user_cnt = #{totalFinishPayUserCnt},
		total_need_pay_user_cnt = #{totalNeedPayUserCnt},
		total_plan_iuser_workload = #{totalPlanIuserWorkload},
		total_plan_ouser_workload = #{totalPlanOuserWorkload},
		test_cases = #{testCases},
		exec_cases = #{execCases},
		design_cases = #{designCases},
		finish_cases = #{finishCases},
		iteration_cnt = #{iterationCnt},
		product_cnt = #{productCnt},
		menu_cnt = #{menuCnt},
		finish_menu_cnt = #{finishMenuCnt},
		estimate_workload = #{estimateWorkload},
		exec_task_cnt = #{execTaskCnt},
		to_start_task_cnt = #{toStartTaskCnt},
		exec_menu_cnt = #{execMenuCnt},
		to_start_menu_cnt = #{toStartMenuCnt},
		min_start_time = #{minStartTime},
		max_end_time = #{maxEndTime}
	</sql>
	<sql id="someFieldSet">
		<if test="bizDate != null and bizDate != ''"> biz_date = #{bizDate},     </if>
		<if test="totalFileCnt != null and totalFileCnt != ''"> total_file_cnt = #{totalFileCnt},     </if>
		<if test="totalBugCnt != null and totalBugCnt != ''"> total_bug_cnt = #{totalBugCnt},     </if>
		<if test="totalTaskCnt != null and totalTaskCnt != ''"> total_task_cnt = #{totalTaskCnt},     </if>
		<if test="totalBudgetNouserAmount != null and totalBudgetNouserAmount != ''"> total_budget_nouser_amount = #{totalBudgetNouserAmount},     </if>
		<if test="projectName != null and projectName != ''"> project_name = #{projectName},     </if>
		<if test="totalStaffCnt != null and totalStaffCnt != ''"> total_staff_cnt = #{totalStaffCnt},     </if>
		<if test="calcTime != null"> calc_time = #{calcTime},     </if>
		<if test="calcStatus != null and calcStatus != ''"> calc_status = #{calcStatus},     </if>
		<if test="totalCostNouserAmount != null and totalCostNouserAmount != ''"> total_cost_nouser_amount = #{totalCostNouserAmount},     </if>
		<if test="totalClosedBugCnt != null and totalClosedBugCnt != ''"> total_closed_bug_cnt = #{totalClosedBugCnt},     </if>
		<if test="totalResolvedBugCnt != null and totalResolvedBugCnt != ''"> total_resolved_bug_cnt = #{totalResolvedBugCnt},     </if>
		<if test="totalCompleteTaskCnt != null and totalCompleteTaskCnt != ''"> total_complete_task_cnt = #{totalCompleteTaskCnt},     </if>
		<if test="totalPhaseCnt != null and totalPhaseCnt != ''"> total_phase_cnt = #{totalPhaseCnt},     </if>
		<if test="totalCompletePhaseCnt != null and totalCompletePhaseCnt != ''"> total_complete_phase_cnt = #{totalCompletePhaseCnt},     </if>
		<if test="totalNeedPayAmount != null and totalNeedPayAmount != ''"> total_need_pay_amount = #{totalNeedPayAmount},     </if>
		<if test="totalFinishPayAmount != null and totalFinishPayAmount != ''"> total_finish_pay_amount = #{totalFinishPayAmount},     </if>
		<if test="totalNeedColAmount != null and totalNeedColAmount != ''"> total_need_col_amount = #{totalNeedColAmount},     </if>
		<if test="totalFinishColAmount != null and totalFinishColAmount != ''"> total_finish_col_amount = #{totalFinishColAmount},     </if>
		<if test="totalCostUserAmount != null and totalCostUserAmount != ''"> total_cost_user_amount = #{totalCostUserAmount},     </if>
		<if test="totalBudgetIuserAmount != null and totalBudgetIuserAmount != ''"> total_budget_iuser_amount = #{totalBudgetIuserAmount},     </if>
		<if test="totalPlanWorkload != null and totalPlanWorkload != ''"> total_plan_workload = #{totalPlanWorkload},     </if>
		<if test="totalRiskCnt != null and totalRiskCnt != ''"> total_risk_cnt = #{totalRiskCnt},     </if>
		<if test="totalCompleteRiskCnt != null and totalCompleteRiskCnt != ''"> total_complete_risk_cnt = #{totalCompleteRiskCnt},     </if>
		<if test="branchId != null and branchId != ''"> branch_id = #{branchId},     </if>
		<if test="branchName != null and branchName != ''"> branch_name = #{branchName},     </if>
		<if test="totalBudgetOuserAmount != null and totalBudgetOuserAmount != ''"> total_budget_ouser_amount = #{totalBudgetOuserAmount},     </if>
		<if test="totalCompleteWorkload != null and totalCompleteWorkload != ''"> total_complete_workload = #{totalCompleteWorkload},     </if>
		<if test="totalCostIuserAmount != null and totalCostIuserAmount != ''"> total_cost_iuser_amount = #{totalCostIuserAmount},     </if>
		<if test="totalCostOuserAmount != null and totalCostOuserAmount != ''"> total_cost_ouser_amount = #{totalCostOuserAmount},     </if>
		<if test="totalProgress != null and totalProgress != ''"> total_progress = #{totalProgress},     </if>
		<if test="totalActiveBugCnt != null and totalActiveBugCnt != ''"> total_active_bug_cnt = #{totalActiveBugCnt},     </if>
		<if test="totalConfirmedBugCnt != null and totalConfirmedBugCnt != ''"> total_confirmed_bug_cnt = #{totalConfirmedBugCnt},     </if>
		<if test="projectStatus != null and projectStatus != ''"> project_status = #{projectStatus},     </if>
		<if test="totalActWorkload != null and totalActWorkload != ''"> total_act_workload = #{totalActWorkload},     </if>
		<if test="totalActOutWorkload != null and totalActOutWorkload != ''"> total_act_out_workload = #{totalActOutWorkload},     </if>
		<if test="totalActInnerWorkload != null and totalActInnerWorkload != ''"> total_act_inner_workload = #{totalActInnerWorkload},     </if>
		<if test="totalTaskBudgetCostAt != null and totalTaskBudgetCostAt != ''"> total_task_budget_cost_at = #{totalTaskBudgetCostAt},     </if>
		<if test="totalTaskOutCnt != null and totalTaskOutCnt != ''"> total_task_out_cnt = #{totalTaskOutCnt},     </if>
		<if test="totalNeedPayCnt != null and totalNeedPayCnt != ''"> total_need_pay_cnt = #{totalNeedPayCnt},     </if>
		<if test="totalFinishPayCnt != null and totalFinishPayCnt != ''"> total_finish_pay_cnt = #{totalFinishPayCnt},     </if>
		<if test="totalFinishPayUserCnt != null and totalFinishPayUserCnt != ''"> total_finish_pay_user_cnt = #{totalFinishPayUserCnt},     </if>
		<if test="totalNeedPayUserCnt != null and totalNeedPayUserCnt != ''"> total_need_pay_user_cnt = #{totalNeedPayUserCnt},     </if>
		<if test="totalPlanIuserWorkload != null and totalPlanIuserWorkload != ''"> total_plan_iuser_workload = #{totalPlanIuserWorkload},     </if>
		<if test="totalPlanOuserWorkload != null and totalPlanOuserWorkload != ''"> total_plan_ouser_workload = #{totalPlanOuserWorkload},     </if>
		<if test="testCases != null and testCases != ''"> test_cases = #{testCases},     </if>
		<if test="execCases != null and execCases != ''"> exec_cases = #{execCases},     </if>
		<if test="designCases != null and designCases != ''"> design_cases = #{designCases},     </if>
		<if test="finishCases != null and finishCases != ''"> finish_cases = #{finishCases},     </if>
		<if test="iterationCnt != null and iterationCnt != ''"> iteration_cnt = #{iterationCnt},     </if>
		<if test="productCnt != null and productCnt != ''"> product_cnt = #{productCnt},     </if>
		<if test="menuCnt != null and menuCnt != ''"> menu_cnt = #{menuCnt},     </if>
		<if test="finishMenuCnt != null and finishMenuCnt != ''"> finish_menu_cnt = #{finishMenuCnt},     </if>
		<if test="estimateWorkload != null and estimateWorkload != ''"> estimate_workload = #{estimateWorkload},     </if>
		<if test="execTaskCnt != null and execTaskCnt != ''"> exec_task_cnt = #{execTaskCnt},     </if>
		<if test="toStartTaskCnt != null and toStartTaskCnt != ''"> to_start_task_cnt = #{toStartTaskCnt},     </if>
		<if test="execMenuCnt != null and execMenuCnt != ''"> exec_menu_cnt = #{execMenuCnt},     </if>
		<if test="toStartMenuCnt != null and toStartMenuCnt != ''"> to_start_menu_cnt = #{toStartMenuCnt},     </if>
		<if test="minStartTime != null"> min_start_time = #{minStartTime},     </if>
		<if test="maxEndTime != null"> max_end_time = #{maxEndTime},     </if>
	</sql>
	<!--sql片段 批量更新 -->
	<sql id="batchSet">
			biz_date = #{item.bizDate},
			total_file_cnt = #{item.totalFileCnt},
			total_bug_cnt = #{item.totalBugCnt},
			total_task_cnt = #{item.totalTaskCnt},
			total_budget_nouser_amount = #{item.totalBudgetNouserAmount},
			project_name = #{item.projectName},
			total_staff_cnt = #{item.totalStaffCnt},
			calc_time = #{item.calcTime},
			calc_status = #{item.calcStatus},
			total_cost_nouser_amount = #{item.totalCostNouserAmount},
			total_closed_bug_cnt = #{item.totalClosedBugCnt},
			total_resolved_bug_cnt = #{item.totalResolvedBugCnt},
			total_complete_task_cnt = #{item.totalCompleteTaskCnt},
			total_phase_cnt = #{item.totalPhaseCnt},
			total_complete_phase_cnt = #{item.totalCompletePhaseCnt},
			total_need_pay_amount = #{item.totalNeedPayAmount},
			total_finish_pay_amount = #{item.totalFinishPayAmount},
			total_need_col_amount = #{item.totalNeedColAmount},
			total_finish_col_amount = #{item.totalFinishColAmount},
			total_cost_user_amount = #{item.totalCostUserAmount},
			total_budget_iuser_amount = #{item.totalBudgetIuserAmount},
			total_plan_workload = #{item.totalPlanWorkload},
			total_risk_cnt = #{item.totalRiskCnt},
			total_complete_risk_cnt = #{item.totalCompleteRiskCnt},
			branch_id = #{item.branchId},
			branch_name = #{item.branchName},
			total_budget_ouser_amount = #{item.totalBudgetOuserAmount},
			total_complete_workload = #{item.totalCompleteWorkload},
			total_cost_iuser_amount = #{item.totalCostIuserAmount},
			total_cost_ouser_amount = #{item.totalCostOuserAmount},
			total_progress = #{item.totalProgress},
			total_active_bug_cnt = #{item.totalActiveBugCnt},
			total_confirmed_bug_cnt = #{item.totalConfirmedBugCnt},
			project_status = #{item.projectStatus},
			total_act_workload = #{item.totalActWorkload},
			total_act_out_workload = #{item.totalActOutWorkload},
			total_act_inner_workload = #{item.totalActInnerWorkload},
			total_task_budget_cost_at = #{item.totalTaskBudgetCostAt},
			total_task_out_cnt = #{item.totalTaskOutCnt},
			total_need_pay_cnt = #{item.totalNeedPayCnt},
			total_finish_pay_cnt = #{item.totalFinishPayCnt},
			total_finish_pay_user_cnt = #{item.totalFinishPayUserCnt},
			total_need_pay_user_cnt = #{item.totalNeedPayUserCnt},
			total_plan_iuser_workload = #{item.totalPlanIuserWorkload},
			total_plan_ouser_workload = #{item.totalPlanOuserWorkload},
			test_cases = #{item.testCases},
			exec_cases = #{item.execCases},
			design_cases = #{item.designCases},
			finish_cases = #{item.finishCases},
			iteration_cnt = #{item.iterationCnt},
			product_cnt = #{item.productCnt},
			menu_cnt = #{item.menuCnt},
			finish_menu_cnt = #{item.finishMenuCnt},
			estimate_workload = #{item.estimateWorkload},
			exec_task_cnt = #{item.execTaskCnt},
			to_start_task_cnt = #{item.toStartTaskCnt},
			exec_menu_cnt = #{item.execMenuCnt},
			to_start_menu_cnt = #{item.toStartMenuCnt},
			min_start_time = #{item.minStartTime},
			max_end_time = #{item.maxEndTime}
	</sql>
</mapper>