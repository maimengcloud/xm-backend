#内置服务器的端口
spring.application.name=xm

server.port=7067
#server.context-path=/${spring.application.name}
#session失效时间 秒
server.session.timeout=43200
spring.session.store-type=none
spring.cloud.inetutils.preferredNetworks[0]=^10\.
spring.cloud.inetutils.preferredNetworks[1]=^172\.
#eureka.client.serviceUrl.defaultZone=http://172.16.16.16:6110/eureka/
#eureka.instance.hostname= ${spring.cloud.client.ipAddress}
#eureka.instance.instance-id=${spring.cloud.client.ipAddress}:${server.port}
#eureka.instance.prefer-ip-address=true

spring.cloud.consul.host=134.175.57.249
spring.cloud.consul.port=8500


#服务跟踪
spring.zipkin.enabled=true
spring.zipkin.base-url=http://172.16.16.16:6119/
spring.sleuth.sampler.percentage=1.0

spring.jackson.mapper.default-view-inclusion=false
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.mvc.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=GMT+8
spring.jackson.serialization.indent_output=true
spring.jackson.serialization.fail_on_empty_beans=false
spring.jackson.deserialization.fail_on_unknown_properties=false
spring.jackson.parser.allow_unquoted_control_chars=true
spring.jackson.parser.allow_single_quotes=true


#配置图片文件上传下载的相关参数，如果此次配置将覆盖数据库系统参数中的 arcImageUploadRootPath 及 arcImageDownloadBaseUri两个参数
mdp.arc.image-upload-root-path=E:/arc/image
mdp.arc.image-download-base-uri=arc/
mdp.arc.file-upload-root-path=E:/arc/files

#限制文件上传大小
spring.http.multipart.maxFileSize=10Mb
spring.http.multipart.maxRequestSize=10Mb


# mdp平台授权验证服务器访问地址 cloud环境下换成 http://gate，本地调试如果不起验证服务器，可改为 https://www.qingqinkj.com/api/m1/oauth2/oauth2
mdp.oauth2.server.uri=http://134.175.57.249:7000
# 客户端必须在数据库表adm.oauth_client_details中配置，否则无法访问

# 下面配置 password 模式
spring.security.oauth2.client.registration.password-client.provider=def-oauth-server
spring.security.oauth2.client.registration.password-client.client-id=${spring.application.name}
spring.security.oauth2.client.registration.password-client.client-secret= ${spring.application.name}-8888
spring.security.oauth2.client.registration.password-client.authorization-grant-type= password
spring.security.oauth2.client.registration.password-client.scope= all

# 下面配置 client_credentials 模式
spring.security.oauth2.client.registration.def-client.provider=def-oauth-server
spring.security.oauth2.client.registration.def-client.client-id=${spring.application.name}
spring.security.oauth2.client.registration.def-client.client-secret= ${spring.application.name}-8888
spring.security.oauth2.client.registration.def-client.authorization-grant-type= client_credentials
spring.security.oauth2.client.registration.def-client.scope= all

# 下面配置authorization_code模式
spring.security.oauth2.client.registration.code-client.provider=def-oauth-server
spring.security.oauth2.client.registration.code-client.client-id=${spring.application.name}
spring.security.oauth2.client.registration.code-client.client-secret= ${spring.application.name}-8888
spring.security.oauth2.client.registration.code-client.authorization-grant-type= authorization_code
# 授权码模式下需要配置重定向地址
spring.security.oauth2.client.registration.code-client.redirect-uri= ${messages.base-uri}/authorized
spring.security.oauth2.client.registration.code-client.scope= all

# 授权码方式获取code
spring.security.oauth2.client.provider.def-oauth-server.authorization-uri= ${mdp.oauth2.server.uri}/oauth2/authorize
# 获取token接口
spring.security.oauth2.client.provider.def-oauth-server.token-uri= ${mdp.oauth2.server.uri}/oauth2/token

# 资源服务器
spring.security.oauth2.resourceserver.jwt.jwk-set-uri= ${mdp.oauth2.server.uri}/oauth2/jwks

#配置数据源
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.jdbc-url=jdbc:mysql://123.207.117.5:3306/arc?useUnicode=true&characterEncoding=utf-8&useSSL=false&allowMultiQueries=true&serverTimezone=CTT
spring.datasource.username=root
spring.datasource.password=1qaz@WSX
spring.datasource.validation-query=select 1
spring.datasource.test-on-borrow=true
spring.datasource.validation-interval=30000

##begin 商户相关配置###顶级商户###########################################################
mdp.topMech.mechId=m1000
mdp.topMech.mechName=广州擎勤网络科技有限公司
mdp.topMech.userid=1000
mdp.topMech.userName=广州擎勤网络科技有限公司
mdp.topMech.accountId=m1000
##end 商户相关配置################################################################

#腾讯云短信验证码@Value("${mdp.sms.appid}")
mdp.sms.appid=1400038813
mdp.sms.app-secret=4b0659a2ee8ba4e54a570515fda94aef

 # REDIS (RedisProperties)
# Redis数据库索引（默认为0）
spring.redis.database=0
# Redis服务器地址
spring.redis.host=134.175.57.249
# Redis服务器连接端口
spring.redis.port=6379
# Redis服务器连接密码（默认为空）
spring.redis.password=QqKj*123
# 连接池最大连接数（使用负值表示没有限制）
spring.redis.pool.max-active=8
# 连接池最大阻塞等待时间（使用负值表示没有限制）
spring.redis.pool.max-wait=-1
# 连接池中的最大空闲连接
spring.redis.pool.max-idle=8
# 连接池中的最小空闲连接
spring.redis.pool.min-idle=2
# 连接超时时间（毫秒）
spring.redis.timeout=100000